@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdministrativaFull.cshtml";
}


<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h3 class="text-primary">Home</h3>
    </div>

</div>


<div class="container-fluid">

    <div class="row">
        @{
            if (User.IsInRole("Administrador") || User.IsInRole("Desenvolvedor"))
            {
                <!-- Card -->
                <div class="col-md-3">
                    <div class="card bg-primary p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left meida media-middle">
                                <span><i class="ti-bag f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0"><strong>Pré-Cadastros</strong></p>
                                <h2 class="color-white">@ViewBag.ContadorPreCadastro</h2>
                                <p class="m-b-0">&nbsp</p>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card contador de mensagens - Dicas-->
                <div class="col-md-3">
                    <div class="card bg-success-dark p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left media media-middle">
                                <span><i class="ti-comment f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0"><strong>Usuários</strong></p>
                                <h2 class="color-white">@ViewBag.ContadorUsuario</h2>
                                <p class="m-b-0">&nbsp</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Card bandeira tarifária vigente-->
                <div class="col-md-3">
                    <div class="card bg-warning p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left meida media-middle">
                                <span><i class="ti-flag f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0">Visitas a fazer</p>
                                <h2 class="color-white">@ViewBag.ContadorAgenda</h2>
                                <p class="m-b-0">&nbsp</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Card valor mensal aproximado -->
                <div class="col-md-3">
                    <div class="card bg-secondary p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left media media-middle">
                                <span><i class="fa fa-life-ring f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0">Ordem de Serviços</p>
                                <h2 class="color-white">@ViewBag.ContadorOS</h2>
                                <p class="m-b-0">Pendentes</p>
                            </div>
                        </div>
                    </div>
                </div>

            }
        }

        @{
            if (User.IsInRole("Comum") || User.IsInRole("Desenvolvedor"))
            {
                <!-- Card -->
                <div class="col-md-3">
                    <div class="card bg-primary p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left meida media-middle">
                                <span><i class="ti-bag f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0"><strong>Conta</strong></p>
                                <h2 class="color-white">@ViewBag.StatusContaUsuario</h2>
                                <p class="m-b-0">Venc: @ViewBag.Vencimento.ToString("dd/MM/yyyy")</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card contador de mensagens - Taxa Tarifaria-->
                <div class="col-md-3">
                    <div class="card bg-info p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left media media-middle">
                                <span><i class="ti-comment f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0"><strong>Taxa Tarifária</strong></p>
                                <h2 class="color-white">R$ @ViewBag.ValorTarifa</h2>
                                <p class="m-b-0">@ViewBag.DistribuidoraTarifa</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Card bandeira tarifária vigente-->
                if (ViewData["Bandeira"].Equals(1)) //verde
                {
                    <div class="col-md-3">
                        <div class="card" style="background-color: green !important;">

                            <!-- Tipo do card -->
                            <div class="media widget-ten">
                                <div class="media-left meida media-middle">
                                    <span><i class="ti-flag f-s-35"></i></span> <!-- Tipo do icone no card -->
                                </div>
                                <div class="media-body media-text-right">
                                    <p class="m-b-0">@ViewBag.Cor</p>
                                    <h2 class="color-white">Não há</h2>
                                    <p class="m-b-0">alterção no valor</p>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else if (ViewData["Bandeira"].Equals(2)) //amarela
                {
                    <div class="col-md-3">
                        <div class="card bg-warning">

                            <!-- Tipo do card -->
                            <div class="media widget-ten">
                                <div class="media-left meida media-middle">
                                    <span><i class="ti-flag f-s-35"></i></span> <!-- Tipo do icone no card -->
                                </div>
                                <div class="media-body media-text-right">
                                    <p class="m-b-0">@ViewBag.Cor</p>
                                    <h2 class="color-white">R$ @ViewBag.Valor,00</h2>
                                    <p class="m-b-0">@ViewBag.Descricao</p>
                                </div>
                            </div>
                        </div>
                    </div>

                }
                else if (ViewData["Bandeira"].Equals(3)) //vermelha 1
                {
                    <div class="col-md-3">
                        <div class="card bg-vermelho">

                            <!-- Tipo do card -->
                            <div class="media widget-ten">
                                <div class="media-left meida media-middle">
                                    <span><i class="ti-flag f-s-35"></i></span> <!-- Tipo do icone no card -->
                                </div>
                                <div class="media-body media-text-right">
                                    <p class="m-b-0">@ViewBag.Cor</p>
                                    <h2 class="color-white">R$ @ViewBag.Valor,00</h2>
                                    <p class="m-b-0">@ViewBag.Descricao</p>
                                </div>
                            </div>
                        </div>
                    </div>

                }
                else if (ViewData["Bandeira"].Equals(4)) //vermelha 2
                {
                    <div class="col-md-3">
                        <div class="card" style="background-color: red !important;">

                            <!-- Tipo do card -->
                            <div class="media widget-ten">
                                <div class="media-left meida media-middle">
                                    <span><i class="ti-flag f-s-35"></i></span> <!-- Tipo do icone no card -->
                                </div>
                                <div class="media-body media-text-right">
                                    <p class="m-b-0">@ViewBag.Cor</p>
                                    <h2 class="color-white">R$ @ViewBag.Valor,00</h2>
                                    <p class="m-b-0">@ViewBag.Descricao</p>
                                </div>
                            </div>
                        </div>
                    </div>

                }
                <!--Card valor mensal aproximado -->
                <div class="col-md-3">
                    <div class="card bg-success-dark p-20">
                        <!-- Tipo do card -->
                        <div class="media widget-ten">
                            <div class="media-left media media-middle">
                                <span><i class="ti-money f-s-40"></i></span> <!-- Tipo do icone no card -->
                            </div>
                            <div class="media-body media-text-right">
                                <p class="m-b-0">Valor aproximado</p>
                                <h2 class="color-white">R$70,47</h2>
                                <p class="m-b-0">01/2018</p>
                            </div>
                        </div>
                    </div>
                </div>

                //============ INICIO Bar Basic
                <div class="col-lg-12" style="display:none">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <div id="container" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto">

                                    <script type="text/javascript">

                                        Highcharts.setOptions({
                                            lang: {
                                                months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                                                shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                                                weekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                                                loading: ['Atualizando o gráfico...aguarde'],
                                                contextButtonTitle: 'Exportar gráfico',
                                                decimalPoint: ',',
                                                thousandsSep: '.',
                                                downloadJPEG: 'Baixar imagem JPEG',
                                                downloadPDF: 'Baixar arquivo PDF',
                                                downloadPNG: 'Baixar imagem PNG',
                                                downloadSVG: 'Baixar vetor SVG',
                                                printChart: 'Imprimir gráfico',
                                                rangeSelectorFrom: 'De',
                                                rangeSelectorTo: 'Para',
                                                rangeSelectorZoom: 'Zoom',
                                                resetZoom: 'Limpar Zoom',
                                                resetZoomTitle: 'Voltar Zoom para nível 1:1',
                                            },

                                            colors: ['#E97778', '#89C7B6', '#FFD57E', '#7998C9', '#AD84C7'] //Cores do Highcharts
                                        });

                                        Highcharts.chart('container', {
                                            chart: {
                                                type: 'bar'
                                            },
                                            title: {
                                                text: 'Consumo em R$ por cômodo.'
                                            },
                                            subtitle: {
                                                text: '<a href="#">25/01/2018</a>'
                                            },
                                            xAxis: {
                                                categories: ['Banheiro', 'Sala', 'Cozinha', 'Quarto'],
                                                title: {
                                                    text: null
                                                }
                                            },
                                            yAxis: {
                                                min: 0,
                                                title: {
                                                    text: 'Reais (R$)',
                                                    align: 'high'
                                                },
                                                labels: {
                                                    overflow: 'justify'
                                                }
                                            },
                                            tooltip: {
                                                valuePrefix: 'R$ '
                                            },
                                            plotOptions: {
                                                bar: {
                                                    dataLabels: {
                                                        enabled: true
                                                    }
                                                }
                                            },
                                            legend: {
                                                layout: 'vertical',
                                                align: 'right',
                                                verticalAlign: 'top',
                                                x: -615,
                                                y: -10,
                                                floating: true,
                                                borderWidth: 1,
                                                backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
                                                shadow: true
                                            },
                                            credits: {
                                                enabled: false
                                            },
                                            series: [{
                                                name: '25/01/2018',
                                                data: [2, 15, 4, 2]
                                            }, {
                                                name: '25/12/2017',
                                                data: [0.80, 8, 0.90, 1]
                                            }, {
                                                name: '25/11/2017',
                                                data: [2, 1, 0.25, 5]
                                            }]
                                        });
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                //============ FIM Bar Basic


                //============ Inicio Gráfico Barras Verticais
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <div id="container1" style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto"></div>
                                <script type="text/javascript">
                                    //INICIO configuração para deixar o Dashboard em PT-BR
                                    Highcharts.setOptions({
                                        lang: {
                                            months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                                            shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                                            weekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                                            loading: ['Atualizando o gráfico...aguarde'],
                                            contextButtonTitle: 'Exportar gráfico',
                                            decimalPoint: ',',
                                            thousandsSep: '.',
                                            downloadJPEG: 'Baixar imagem JPEG',
                                            downloadPDF: 'Baixar arquivo PDF',
                                            downloadPNG: 'Baixar imagem PNG',
                                            downloadSVG: 'Baixar vetor SVG',
                                            printChart: 'Imprimir gráfico',
                                            rangeSelectorFrom: 'De',
                                            rangeSelectorTo: 'Para',
                                            rangeSelectorZoom: 'Zoom',
                                            resetZoom: 'Limpar Zoom',
                                            resetZoomTitle: 'Voltar Zoom para nível 1:1',
                                        },

                                        colors: ['#E97778', '#89C7B6', '#FFD57E', '#7998C9', '#AD84C7'] //Cores do Highcharts
                                    });
                                    //FIM configuração para deixar o Dashboard em PT-BR

                                    Highcharts.chart('container1', {
                                        chart: {
                                            type: 'column'
                                        },
                                        title: {
                                            text: 'Gráfico comparação mensal em kWh'
                                        },
                                        subtitle: {
                                            text: '@ViewBag.AnoBarrasVerticais'
                                        },
                                        xAxis: {
                                            categories: [
                                                'Jan',
                                                'Fev',
                                                'Mar',
                                                'Abr',
                                                'Mai',
                                                'Jun',
                                                'Jul',
                                                'Ago',
                                                'Set',
                                                'Out',
                                                'Nov',
                                                'Dez'
                                            ],
                                            crosshair: true
                                        },
                                        yAxis: {
                                            min: 0,
                                            title: {
                                                text: 'Energia (kWh)'
                                            }
                                        },
                                        tooltip: {
                                            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                                '<td style="padding:0"><b>{point.y:.1f} kWh</b></td></tr>',
                                            footerFormat: '</table>',
                                            shared: true,
                                            useHTML: true
                                        },
                                        plotOptions: {
                                            column: {
                                                pointPadding: 0.2,
                                                borderWidth: 0
                                            }
                                        },
                                        series: [
                                           @Html.Raw(ViewBag.GraficoBarrasVerticais)
                                        ]
                                    });
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
                //============ Fim Gráfico Barras Verticais

                //============ INICIO Pie Basic
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <div id="container2" style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto"></div>

                                <script type="text/javascript">

                                    Highcharts.setOptions({
                                        lang: {
                                            months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                                            shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                                            weekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                                            loading: ['Atualizando o gráfico...aguarde'],
                                            contextButtonTitle: 'Exportar gráfico',
                                            decimalPoint: ',',
                                            thousandsSep: '.',
                                            downloadJPEG: 'Baixar imagem JPEG',
                                            downloadPDF: 'Baixar arquivo PDF',
                                            downloadPNG: 'Baixar imagem PNG',
                                            downloadSVG: 'Baixar vetor SVG',
                                            printChart: 'Imprimir gráfico',
                                            rangeSelectorFrom: 'De',
                                            rangeSelectorTo: 'Para',
                                            rangeSelectorZoom: 'Zoom',
                                            resetZoom: 'Limpar Zoom',
                                            resetZoomTitle: 'Voltar Zoom para nível 1:1',
                                        },

                                        colors: ['#E97778', '#89C7B6', '#FFD57E', '#7998C9', '#AD84C7'] //Cores do Highcharts
                                    });

                                    Highcharts.chart('container2', {
                                        chart: {
                                            plotBackgroundColor: null,
                                            plotBorderWidth: null,
                                            plotShadow: false,
                                            type: 'pie'
                                        },
                                        title: {
                                            text: 'Consumo por cômodo em %'
                                        },
                                        subtitle: {
                                            text: '@ViewBag.DataGraficoPizza'
                                        },
                                        tooltip: {
                                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                                        },
                                        plotOptions: {
                                            pie: {
                                                allowPointSelect: true,
                                                cursor: 'pointer',
                                                dataLabels: {
                                                    enabled: true,
                                                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                                    style: {
                                                        color: (Highcharts.theme && Highcharts.theme) || 'black'
                                                    }
                                                }
                                            }
                                        },
                                        series: [{
                                            name: 'Consumo',
                                            colorByPoint: true,
                                            data: [@Html.Raw(ViewBag.GraficoPizza)]
                                        }]
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
                //============ FIM Pie Basic

                //============ INICIO Line Basic
                <div class="col-lg-12" style="display:none">
                    <div class="card">
                        <div class="card-body">
                            <div>
                                <div id="container3"></div>



                                <script type="text/javascript">

                                    Highcharts.setOptions({
                                        lang: {
                                            months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                                            shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                                            weekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                                            loading: ['Atualizando o gráfico...aguarde'],
                                            contextButtonTitle: 'Exportar gráfico',
                                            decimalPoint: ',',
                                            thousandsSep: '.',
                                            downloadJPEG: 'Baixar imagem JPEG',
                                            downloadPDF: 'Baixar arquivo PDF',
                                            downloadPNG: 'Baixar imagem PNG',
                                            downloadSVG: 'Baixar vetor SVG',
                                            printChart: 'Imprimir gráfico',
                                            rangeSelectorFrom: 'De',
                                            rangeSelectorTo: 'Para',
                                            rangeSelectorZoom: 'Zoom',
                                            resetZoom: 'Limpar Zoom',
                                            resetZoomTitle: 'Voltar Zoom para nível 1:1',
                                        },

                                        colors: ['#E97778', '#89C7B6', '#FFD57E', '#7998C9', '#AD84C7'] //Cores do Highcharts
                                    });

                                    Highcharts.chart('container3', {
                                        chart: {
                                            type: 'line'
                                        },
                                        title: {
                                            text: 'Consumo em R$ por periodo'
                                        },
                                        subtitle: {
                                            text: '2017'
                                        },
                                        xAxis: {
                                            categories: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez']
                                        },
                                        yAxis: {
                                            title: {
                                                text: 'Reais (R$)'
                                            }
                                        },
                                        plotOptions: {
                                            line: {
                                                dataLabels: {
                                                    enabled: true
                                                },
                                                enableMouseTracking: false
                                            }
                                        },
                                        series: [{
                                            name: 'Banheiro',
                                            data: [7.0, 6.9, 9.5, 14.5, 18.4, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
                                        }, {
                                            name: 'Sala',
                                            data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
                                        }, {
                                            name: 'Cozinha',
                                            data: [4.9, 4.5, 5.9, 8.5, 12.9, 15.6, 15.0, 17.6, 14.9, 10.9, 6.7, 5.8]
                                        }, {
                                            name: 'Quarto',
                                            data: [1.9, 4.2, 3.7, 5.5, 10.9, 9.2, 6.0, 6.6, 9.2, 5.3, 6.6, 7.8]
                                        }]
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
                //============ FIM Line Basic

            }
        }

    </div>
</div>
